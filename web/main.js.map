{"version":3,"file":"main.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,0BAA0B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,6BAA6B,IAAI,4DAA4D;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///./ts/index.ts"],"sourcesContent":["console.log(\"Hello world\");\nconst order = [\n    \"puzzle-welcome\",\n    \"puzzle-car\",\n    \"puzzle-selfie\",\n    \"puzzle-boba\",\n    \"puzzle-starbird\",\n    \"puzzle-apartment\",\n    \"puzzle-waffle\",\n    \"puzzle-rockos\",\n    \"puzzle-costco\",\n    \"puzzle-base\",\n    \"puzzle-congrats\",\n    \"puzzle-true-end\",\n];\nconst params = new URLSearchParams(window.location.search);\nlet index = 0;\nif (params.has(\"v\")) {\n    index = Math.floor(Number(params.get(\"v\")));\n    if (index < 0) {\n        index = 0;\n    }\n    if (index >= order.length) {\n        index = order.length - 1;\n    }\n    if (index === order.length - 2) {\n        index++;\n    }\n}\nlet current = null;\nnext();\nlet geoButton = document.getElementById(\"button-welcome\");\ngeoButton.onclick = () => {\n    geo(() => {\n        next();\n    });\n};\nlet carButton = document.getElementById(\"button-car\");\ncarButton.onclick = () => {\n    next();\n};\nlet selfieButton = document.getElementById(\"button-selfie\");\nselfieButton.onclick = () => {\n    next();\n};\nlet selfieGeo = document.getElementById(\"geo-selfie\");\nselfieGeo.onclick = () => {\n    geo((position) => {\n        const lat = 37.427997;\n        const lon = -122.069500;\n        const dist = calcCrow(lat, lon, position.coords.latitude, position.coords.longitude);\n        selfieGeo.textContent = Math.floor(dist) + \"m away!\";\n        if (dist <= 30 + position.coords.accuracy) {\n            selfieButton.style.visibility = \"visible\";\n        }\n    });\n};\nlet bobaButton = document.getElementById(\"button-boba\");\nbobaButton.onclick = () => {\n    let bobaText = document.getElementById(\"text-boba\");\n    let bobaClue = document.getElementById(\"clue-boba\");\n    if (bobaText.value.toLowerCase() === \"in2u\") {\n        bobaClue.textContent = \"BOG!!!\";\n        next();\n    }\n    else {\n        bobaClue.textContent = \"Password not bog enough :(\";\n    }\n};\nlet starbirdButton = document.getElementById(\"button-starbird\");\nstarbirdButton.onclick = () => {\n    next();\n};\nlet boxes = document.getElementsByClassName(\"puzzle-box\");\nlet selected = new Set();\nlet numSolved = 0;\nconst selectedClass = \"puzzle-box-selected\";\nconst solvedClass = \"puzzle-box-solved\";\nfor (let i = 0; i < boxes.length; ++i) {\n    let box = boxes[i];\n    box.onclick = () => {\n        if (box.classList.contains(solvedClass)) {\n            return;\n        }\n        if (selected.has(box)) {\n            box.classList.remove(selectedClass);\n            selected.delete(box);\n            return;\n        }\n        if (selected.size >= 4) {\n            return;\n        }\n        box.classList.add(selectedClass);\n        selected.add(box);\n        if (selected.size === 4) {\n            let category = \"\";\n            for (let elm of selected) {\n                for (let j = 0; j < elm.classList.length; ++j) {\n                    if (elm.classList[j].includes(\"cat\")) {\n                        category = elm.classList[j];\n                        break;\n                    }\n                }\n                break;\n            }\n            if (category.length > 0) {\n                let wrong = false;\n                for (let elm of selected) {\n                    if (!elm.classList.contains(category)) {\n                        wrong = true;\n                        break;\n                    }\n                }\n                if (!wrong) {\n                    numSolved++;\n                    selected.forEach((elm) => {\n                        elm.classList.add(solvedClass);\n                        elm.classList.remove(selectedClass);\n                    });\n                    selected.clear();\n                    document.getElementById(category + \"-name\").style.visibility = \"visible\";\n                }\n            }\n        }\n        if (numSolved >= 4) {\n            starbirdButton.style.visibility = \"visible\";\n        }\n    };\n}\nlet apartmentButton = document.getElementById(\"button-apartment\");\napartmentButton.onclick = () => {\n    let apartmentText = document.getElementById(\"text-apartment\");\n    let apartmentClue = document.getElementById(\"clue-apartment\");\n    if (apartmentText.value.toLowerCase() === \"magnolia\") {\n        apartmentClue.textContent = \"oooh yeah\";\n        next();\n    }\n    else {\n        apartmentClue.textContent = \"not quite\";\n    }\n};\nlet waffleButton = document.getElementById(\"button-waffle\");\nwaffleButton.onclick = () => {\n    next();\n};\nlet geoWaffle = document.getElementById(\"geo-waffle\");\ngeoWaffle.onclick = () => {\n    geo((position) => {\n        const lat = 37.353981;\n        const lon = -121.954642;\n        const dist = calcCrow(lat, lon, position.coords.latitude, position.coords.longitude);\n        geoWaffle.textContent = Math.floor(dist) + \"m away!\";\n        if (dist <= 30 + position.coords.accuracy) {\n            waffleButton.style.visibility = \"visible\";\n        }\n    });\n};\nlet rockosButton = document.getElementById(\"button-rockos\");\nrockosButton.onclick = () => {\n    next();\n};\nlet rockosGeo = document.getElementById(\"geo-rockos\");\nrockosGeo.onclick = () => {\n    geo((position) => {\n        const lat = 37.34561728311603;\n        const lon = -121.93748772707056;\n        const dist = calcCrow(lat, lon, position.coords.latitude, position.coords.longitude);\n        rockosGeo.textContent = Math.floor(dist) + \"m away!\";\n        if (dist <= 30 + position.coords.accuracy) {\n            rockosButton.style.visibility = \"visible\";\n        }\n    });\n};\nlet costcoButton = document.getElementById(\"button-costco\");\ncostcoButton.onclick = () => {\n    next();\n};\nlet baseButton = document.getElementById(\"button-base\");\nbaseButton.onclick = () => {\n    next();\n};\nlet baseGeo = document.getElementById(\"geo-base\");\nbaseGeo.onclick = () => {\n    geo((position) => {\n        const lat = 37.415431853136795;\n        const lon = -121.95672258207551;\n        const dist = calcCrow(lat, lon, position.coords.latitude, position.coords.longitude);\n        baseGeo.textContent = Math.floor(dist) + \"m away!\";\n        if (dist <= 100 + position.coords.accuracy) {\n            baseButton.style.visibility = \"visible\";\n        }\n    });\n};\nlet trueEndClue = document.getElementById(\"clue-true-end\");\nlet yesButton = document.getElementById(\"button-yes\");\nlet noButton = document.getElementById(\"button-no\");\nyesButton.onclick = () => {\n    yesButton.style.display = \"none\";\n    noButton.style.display = \"none\";\n    trueEndClue.textContent = \"WAHOO\";\n    setInterval(() => {\n        trueEndClue.textContent += \"O\";\n    }, 333);\n};\nnoButton.onclick = () => {\n    yesButton.style.display = \"none\";\n    noButton.style.display = \"none\";\n    trueEndClue.textContent = \"sad bog...\";\n};\nfunction next() {\n    console.log(\"Loading...\");\n    if (current !== null && index < order.length - 1) {\n        current.style.height = \"0%\";\n        current.style.opacity = \"0\";\n        index++;\n        window.history.replaceState(null, null, \"?v=\" + index);\n    }\n    if (index >= 0 && index < order.length) {\n        current = document.getElementById(order[index]);\n        if (current === null) {\n            console.error(\"Null for\", order[index], index);\n            return;\n        }\n        current.style.display = \"block\";\n        current.style.height = \"100%\";\n    }\n}\nfunction geo(cb) {\n    if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition((position) => {\n            console.log(position);\n            cb(position);\n        }, () => { console.error(\"GPS error\"); }, { maximumAge: 10000, timeout: 5000, enableHighAccuracy: true });\n    }\n}\nfunction calcCrow(lat1, lon1, lat2, lon2) {\n    var R = 6371;\n    var dLat = toRad(lat2 - lat1);\n    var dLon = toRad(lon2 - lon1);\n    var lat1 = toRad(lat1);\n    var lat2 = toRad(lat2);\n    var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n        Math.sin(dLon / 2) * Math.sin(dLon / 2) * Math.cos(lat1) * Math.cos(lat2);\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    var d = R * c * 1000;\n    return d;\n}\nfunction toRad(deg) {\n    return deg * Math.PI / 180;\n}\n"],"names":[],"sourceRoot":""}