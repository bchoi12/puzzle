{"version":3,"file":"main.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,0BAA0B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,6BAA6B,IAAI,4DAA4D;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///./ts/index.ts"],"sourcesContent":["console.log(\"Hello world\");\nlet index = 4;\nlet order = [\n    \"puzzle-welcome\",\n    \"puzzle-car\",\n    \"puzzle-selfie\",\n    \"puzzle-boba\",\n    \"puzzle-starbird\",\n    \"puzzle-apartment\",\n    \"puzzle-waffle\",\n    \"puzzle-rockos\",\n    \"puzzle-costco\",\n    \"puzzle-base\",\n    \"puzzle-conrgats\",\n    \"puzzle-true-end\",\n];\nlet current = null;\nnext();\nlet geoButton = document.getElementById(\"button-geo\");\ngeoButton.onclick = () => {\n    geo(() => {\n        next();\n    });\n};\nlet carButton = document.getElementById(\"button-car\");\ncarButton.onclick = () => {\n    next();\n};\nlet selfieButton = document.getElementById(\"button-selfie\");\nselfieButton.onclick = () => {\n    geo((position) => {\n        const lat = 37.427997;\n        const lon = -122.069500;\n        const dist = calcCrow(lat, lon, position.coords.latitude, position.coords.longitude);\n        let selfieClue = document.getElementById(\"clue-selfie\");\n        selfieClue.textContent = Math.floor(dist) + \"m away!\";\n        if (dist <= 10) {\n            next();\n        }\n    });\n};\nlet bobaButton = document.getElementById(\"button-boba\");\nbobaButton.onclick = () => {\n    let bobaText = document.getElementById(\"text-boba\");\n    let bobaClue = document.getElementById(\"clue-boba\");\n    if (bobaText.value.toLowerCase() === \"in2u\") {\n        bobaClue.textContent = \"BOG!!!\";\n        next();\n    }\n    else {\n        bobaClue.textContent = \"Password not bog enough :(\";\n    }\n};\nlet starbirdButton = document.getElementById(\"button-starbird\");\nstarbirdButton.onclick = () => {\n    next();\n};\nlet boxes = document.getElementsByClassName(\"puzzle-box\");\nlet selected = new Set();\nlet numSolved = 0;\nconst selectedClass = \"puzzle-box-selected\";\nconst solvedClass = \"puzzle-box-solved\";\nfor (let i = 0; i < boxes.length; ++i) {\n    let box = boxes[i];\n    box.onclick = () => {\n        if (box.classList.contains(solvedClass)) {\n            return;\n        }\n        if (selected.has(box)) {\n            box.classList.remove(selectedClass);\n            selected.delete(box);\n            return;\n        }\n        if (selected.size >= 4) {\n            return;\n        }\n        box.classList.add(selectedClass);\n        selected.add(box);\n        if (selected.size === 4) {\n            let category = \"\";\n            for (let elm of selected) {\n                for (let j = 0; j < elm.classList.length; ++j) {\n                    if (elm.classList[j].includes(\"cat\")) {\n                        category = elm.classList[j];\n                        break;\n                    }\n                }\n                break;\n            }\n            if (category.length > 0) {\n                let wrong = false;\n                for (let elm of selected) {\n                    if (!elm.classList.contains(category)) {\n                        wrong = true;\n                        break;\n                    }\n                }\n                if (!wrong) {\n                    numSolved++;\n                    selected.forEach((elm) => {\n                        elm.classList.add(solvedClass);\n                        elm.classList.remove(selectedClass);\n                    });\n                    selected.clear();\n                    document.getElementById(category + \"-name\").style.visibility = \"visible\";\n                }\n            }\n        }\n        if (numSolved >= 4) {\n            starbirdButton.style.display = \"block\";\n        }\n    };\n}\nfunction next() {\n    if (index >= order.length - 1) {\n        console.log(\"At the end.\");\n        return;\n    }\n    console.log(\"Loading...\");\n    if (current !== null) {\n        current.style.height = \"0%\";\n        current.style.opacity = \"0\";\n    }\n    index++;\n    if (index >= 0) {\n        current = document.getElementById(order[index]);\n        current.style.display = \"block\";\n        current.style.height = \"100%\";\n    }\n}\nfunction geo(cb) {\n    if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition((position) => {\n            cb(position);\n        }, () => { console.error(\"GPS error\"); }, { maximumAge: 10000, timeout: 5000, enableHighAccuracy: true });\n    }\n}\nfunction calcCrow(lat1, lon1, lat2, lon2) {\n    var R = 6371;\n    var dLat = toRad(lat2 - lat1);\n    var dLon = toRad(lon2 - lon1);\n    var lat1 = toRad(lat1);\n    var lat2 = toRad(lat2);\n    var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n        Math.sin(dLon / 2) * Math.sin(dLon / 2) * Math.cos(lat1) * Math.cos(lat2);\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    var d = R * c * 1000;\n    return d;\n}\nfunction toRad(deg) {\n    return deg * Math.PI / 180;\n}\n"],"names":[],"sourceRoot":""}